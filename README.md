# コマンドラインのススメ


## 目的
HTML5 アプリの開発では TypeScript/CoffeeScript や Sass などのコマンドラインツールの活用は欠かせない。もちろん、エディターや統合開発環境の中にはこれらを自動で呼び出してくれる場合もあるが、対応しているツールが少なかったりバージョンが古かったりする。コマンドラインツールを使いこなすことで、最新のたくさんの便利なツールを使うことができる。

また、CLI にはシェルスクリプトやパイプという非常に便利な仕組みがあり、これらを活用することで GUI ではできない効率化が望める。

今日覚えることはこんな感じ。

* 簡単なコマンドライン操作
* Homebrew
* パイプ
* open/pbcopy などの Mac 特有のコマンド


## 内容


### Mac の特性
OS X は Macintosh 由来の使いやすい GUI を持つ非常に優れた OS である。それと同時に UNIX からの血筋を受け継いでいる。これがどういうことかというと、いろんな GUI アプリが動作すると同時に、UNIX 由来の様々なコマンドラインツールが動作するということで、まさに最強の環境である。

Photoshop/Illustrator などのウェブサイト・ウェブアプリを作るのに欠かせない商用アプリから、Yeoman まで一台でこなせてしまう。(もちろん Windows でも Yeoman は動作するけど、Mac でやるのに比べたらめんどくさい)

そんな Mac の特性をうまく活かすためにも、CLI を覚えていきましょう


### 簡単な基礎コマンド
検索すれば出てくるから今日はいくつか。この後時間をとっているので、初めての方はレクチャーします。


- cd
- pwd
- ls

とりあえずこの三つくらい覚えておけば大丈夫! 最初のうちはファイル操作系コマンドは慣れた Finder でやるとよい。

- cat
- rm/cp/mv
- mkdir/rmdir

コマンドの使い方を検索すると Linux の例がたくさん出てくるけど、OS X は BSD 系になるのでコマンドライン引数が異なることに注意。


### ヘルプと man
ほとんどのコマンドはヘルプが表示できる。困った時は読んでみるといいかも。　

```
ls --help
```

他にもマニュアルが読める。

```
man ls
```


### リダイレクト
コマンドの結果をファイルに落とすことができる強力なやつ。

```
ls > ls.txt
```

こうすると、`ls.txt`に結果が書き込まれる。あとは、これを知り合いの詳しい人に送ればこんなんなったけど? みたいなのがすぐできる。

標準エラー出力も含めるときはこんな感じ。(bash 限定)

```
ls &> ls.txt
```


### パイプ
UNIX の哲学として`一つのことを、うまくやれ`というのがある。これの最たる例がパイプとなる。

GUI のツールでは一つのアプリでいろんなことができるようになっていることが多い。ツール A はこれができてあれができないけど、ツール B はこれができなくてあれができる。両方できるツールがない... みたいなことがある。

コマンドラインツールはそれぞれが単機能なため、これをするためのツールとあれをするためのツールが別々で提供されている。それらを組み合わせて使うため、できないことっていうのがあまりない。

このコマンドの結果を別のコマンドへ橋渡しをするのがパイプという機能。

A さんに何か書かれた紙を渡してそれを加工してもらって、その結果を B さんが受け取ってまた加工して.. と続く。

デザイナーの方は Photoshop などにあるレイヤーに近いのでそちらをイメージするとわかりやすい。


### Mac 特有のコマンド
OS X には特有のコマンドがいくつかある。

- open - フォルダーやファイルを開く
- pbcopy/pbpaste - OS X のクリップボードにアクセスする


### フォルダアクション
Mac にはフォルダアクションという機能があって、フォルダーにコピーすると特定の処理をしてくれるというものがある。

フォルダアクションを使うと、フォルダーにコピーしたファイルをすべて JPEG に変換するというようなものが簡単に作れる。

さらに、Automator からシェルスクリプトを呼びだせば、ImageMagick などを利用して、透かしを入れるなどの画像加工もできちゃう。


### まとめ
CLI も覚えると便利ですよ。フォルダアクションみたいに、いいとこ取りのもいろいろあるのでぜひ活用してみてください。

あと、コマンドラインオプションが Linux のコマンドと違うことが多いから、検索するときは注意してね。
